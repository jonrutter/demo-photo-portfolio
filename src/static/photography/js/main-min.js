const body=document.querySelector("body"),navDropdown=document.querySelector("#nav-dropdown"),navOpen=document.querySelector("#nav-open"),navClose=document.querySelector("#nav-close"),navLinks=document.querySelectorAll(".nav__link"),images=document.querySelectorAll(".grid__image"),slides=document.querySelectorAll(".modal__slide"),imageGridModal=document.querySelector("#image-grid-modal"),imageGridModalClose=document.querySelector("#image-grid-modal-close"),imageGridModalNext=document.querySelector("#image-grid-modal-next"),imageGridModalPrevious=document.querySelector("#image-grid-modal-previous"),imageGridModalCaption=document.querySelector("#image-grid-modal-caption"),imageGridModalCaptionLink=document.querySelector("#image-grid-modal-caption-link"),imageGridModalDownload=document.querySelector("#image-grid-modal-download");function navIsOpen(){return navDropdown.classList.contains("nav__dropdown--open")}function openNav(){body.classList.add("no-scroll"),navDropdown.classList.add("nav__dropdown--open"),navOpen.setAttribute("tabindex","-1"),navClose.setAttribute("tabindex","0"),navLinks.forEach(e=>e.setAttribute("tabindex","0")),navClose.focus(),navDropdown.removeAttribute("aria-hidden"),navOpen.setAttribute("aria-expanded","true")}function closeNav(){body.classList.remove("no-scroll"),navDropdown.classList.remove("nav__dropdown--open"),navOpen.setAttribute("tabindex","0"),navClose.setAttribute("tabindex","-1"),navLinks.forEach(e=>e.setAttribute("tabindex","-1")),navOpen.focus(),navDropdown.setAttribute("aria-hidden","true"),navOpen.removeAttribute("aria-expanded")}function toggleNav(){modalIsOpen()||(navIsOpen()?closeNav():openNav())}navOpen.addEventListener("click",toggleNav),navClose.addEventListener("click",toggleNav);let currentSlide=0;const totalSlides=slides.length;function modalIsOpen(){return null!==imageGridModal&&!imageGridModal.classList.contains("hidden")}function closeSlides(){slides.forEach(e=>e.classList.remove("modal__slide--active"))}function openSlide(e){closeSlides(),e.classList.add("modal__slide--active");const o=e.firstElementChild;o.getAttribute("src")||(o.src=o.dataset.src),imageGridModalCaptionLink.textContent=o.dataset.caption,imageGridModalCaptionLink.href=o.dataset.href}function nextSlide(){(currentSlide+=1)>=totalSlides&&(currentSlide=0),openSlide(slides[currentSlide])}function previousSlide(){(currentSlide-=1)<0&&(currentSlide=totalSlides-1),openSlide(slides[currentSlide])}function openModal(e){body.classList.add("no-scroll"),imageGridModal.classList.remove("hidden"),currentSlide=Number(e.target.dataset.slide),openSlide(slides[currentSlide])}function closeModal(){closeSlides(),body.classList.remove("no-scroll"),imageGridModal.classList.add("hidden")}function toggleModal(e){imageGridModal.classList.contains("hidden")?openModal(e):closeModal()}null!==images&&images.forEach(e=>e.addEventListener("click",toggleModal)),null!==imageGridModalClose&&imageGridModalClose.addEventListener("click",closeModal),null!==imageGridModalNext&&imageGridModalNext.addEventListener("click",nextSlide),null!==imageGridModalPrevious&&imageGridModalPrevious.addEventListener("click",previousSlide),body.addEventListener("click",e=>{e.target.classList.contains("no-scroll")&&(navIsOpen()&&closeNav(),modalIsOpen()&&closeModal())}),document.addEventListener("keydown",e=>{"Escape"==e.key&&(modalIsOpen()?closeModal():navIsOpen()&&closeNav())});